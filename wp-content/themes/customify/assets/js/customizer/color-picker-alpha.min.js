!function(s){var p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==",t='<div class="wp-picker-holder" />',r='<div class="wp-picker-container" />',i='<input type="button" class="button button-small" />',l=void 0!==wpColorPickerL10n.current;if(l)var n='<a tabindex="0" class="wp-color-result" />';else{n='<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>';var c="<label></label>",d='<span class="screen-reader-text"></span>'}Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var o=parseInt(this._color,10).toString(16);return this.error?"":(o.length<6&&(o=("00000"+o).substr(-6)),"#"+o)},s.widget("wp.wpColorPicker",s.wp.wpColorPicker,{_create:function(){if(s.support.iris){var a=this,e=a.element;if(s.extend(a.options,e.data()),"hue"===a.options.type)return a._createHueOnly();a.close=s.proxy(a.close,a),a.initialValue=e.val(),a._placeholderColor=e.attr("placeholder")||"",e.addClass("wp-color-picker"),a.button=l?(e.hide().wrap(r),a.wrap=e.parent(),a.toggler=s(n).insertBefore(e).css({backgroundColor:a.initialValue}).attr("title",wpColorPickerL10n.pick).attr("data-current",wpColorPickerL10n.current),a.pickerContainer=s(t).insertAfter(e),s(i).addClass("hidden")):(e.parent("label").length||(e.wrap(c),a.wrappingLabelText=s(d).insertBefore(e).text(wpColorPickerL10n.defaultLabel)),a.wrappingLabel=e.parent(),a.wrappingLabel.wrap(r),a.wrap=a.wrappingLabel.parent(),a.toggler=s(n).insertBefore(a.wrappingLabel).css({backgroundColor:a.initialValue}),a.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick),a.pickerContainer=s(t).insertAfter(a.wrappingLabel),s(i)),a.options.defaultColor?(a.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString),l||a.button.attr("aria-label",wpColorPickerL10n.defaultAriaLabel)):(a.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear),l||a.button.attr("aria-label",wpColorPickerL10n.clearAriaLabel)),l?e.wrap('<span class="wp-picker-input-wrap" />').after(a.button):(a.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(a.button),a.inputWrapper=e.closest(".wp-picker-input-wrap")),e.iris({target:a.pickerContainer,hide:a.options.hide,width:a.options.width,mode:a.options.mode,palettes:a.options.palettes,change:function(o,t){var r=t.color.toString();r||(r=e.attr("placeholder")||""),a.options.alpha?(a.toggler.css({"background-image":"url("+p+")"}),l?a.toggler.html('<span class="color-alpha" />'):(a.toggler.css({position:"relative"}),0==a.toggler.find("span.color-alpha").length&&a.toggler.append('<span class="color-alpha" />')),a.toggler.find("span.color-alpha").css({width:"30px",height:"23px",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:r})):a.toggler.css({backgroundColor:r}),s.isFunction(a.options.change)&&a.options.change.call(this,o,t)}}),e.val(a.initialValue),a._addListeners();var o=e.attr("placeholder")||"";o&&!a.initialValue&&(a._placeholderColor=o,a.options.alpha?a.toggler.find("span.color-alpha").css({width:"30px",height:"23px",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:a._placeholderColor}):a.toggler.css({backgroundColor:a._placeholderColor})),a.options.hide||a.toggler.click()}},_addListeners:function(){var t=this;t.wrap.on("click.wpcolorpicker",function(o){o.stopPropagation()}),t.toggler.click(function(){t.toggler.hasClass("wp-picker-open")?t.close():t.open()}),t.element.on("change",function(o){(""===s(this).val()||t.element.hasClass("iris-error"))&&(t.options.alpha?(l&&t.toggler.removeAttr("style"),t.toggler.find("span.color-alpha").css("backgroundColor",t._placeholderColor)):t.toggler.css("backgroundColor",t._placeholderColor),s.isFunction(t.options.clear)&&t.options.clear.call(this,o))}),t.button.on("click",function(o){s(this).hasClass("wp-picker-clear")?(t.element.val(""),s.isFunction(t.options.clear)&&t.options.clear.call(this,o),t.options.alpha?(l&&t.toggler.removeAttr("style"),t.toggler.find("span.color-alpha").css("backgroundColor",t._placeholderColor)):t.toggler.css("backgroundColor",t._placeholderColor)):s(this).hasClass("wp-picker-default")&&(t.element.val(t.options.defaultColor).change(),t.options.alpha?t.toggler.find("span.color-alpha").css("backgroundColor",t.options.defaultColor):t.toggler.css("backgroundColor",t.options.defaultColor))})}}),s.widget("a8c.iris",s.a8c.iris,{_create:function(){if(this._super(),this.options.alpha=this.element.data("alpha")||!1,this.element.is(":input")||(this.options.alpha=!1),void 0!==this.options.alpha&&this.options.alpha){var r=this,o=r.element,t=s('<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>').appendTo(r.picker.find(".iris-picker-inner")),a=t.find(".iris-slider-offset-alpha"),e={aContainer:t,aSlider:a};void 0!==o.data("custom-width")?r.options.customWidth=parseInt(o.data("custom-width"))||0:r.options.customWidth=100,r.options.defaultWidth=o.width(),(r._color._alpha<1||-1!=r._color.toString().indexOf("rgb"))&&o.width(parseInt(r.options.defaultWidth+r.options.customWidth)),s.each(e,function(o,t){r.controls[o]=t}),r.controls.square.css({"margin-right":"0"});var i=r.picker.width()-r.controls.square.width()-20,l=i/6,n=i/2-l;s.each(["aContainer","strip"],function(o,t){r.controls[t].width(n).css({"margin-left":l+"px"})}),r._initControls(),r._change()}},_initControls:function(){if(this._super(),this.options.alpha){var r=this;r.controls.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*r._color._alpha),slide:function(o,t){r._color._alpha=parseFloat(t.value/100),r._change.apply(r,arguments)}})}},_change:function(){this._super();var o=this,t=o.element;if(this.options.alpha){var r=o.controls,a=parseInt(100*o._color._alpha),e=o._color.toRgb(),i=["rgb("+e.r+","+e.g+","+e.b+") 0%","rgba("+e.r+","+e.g+","+e.b+", 0) 100%"],l=o.options.defaultWidth,n=o.options.customWidth,s=o.picker.closest(".wp-picker-container").find(".wp-color-result");r.aContainer.css({background:"linear-gradient(to bottom, "+i.join(", ")+"), url("+p+")"}),s.hasClass("wp-picker-open")&&(r.aSlider.slider("value",a),o._color._alpha<1?(r.strip.attr("style",r.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)")),t.width(parseInt(l+n))):t.width(l))}(t.data("reset-alpha")||!1)&&o.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){o._color._alpha=1,o.active="external",o._change()})},_addInputListeners:function(a){var e=this,o=function(o){var t=new Color(a.val()),r=a.val();a.removeClass("iris-error"),t.error?""!==r&&a.addClass("iris-error"):t.toString()!==e._color.toString()&&("keyup"===o.type&&r.match(/^[0-9a-fA-F]{3}$/)||e._setOption("color",t.toString()))};a.on("change",o).on("keyup",e._debounce(o,100)),e.options.hide&&a.on("focus",function(){e.show()})}})}(jQuery);